(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5888:function(e,n,t){Promise.resolve().then(t.bind(t,8212))},6463:function(e,n,t){"use strict";var r=t(1169);t.o(r,"useRouter")&&t.d(n,{useRouter:function(){return r.useRouter}})},8212:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return u}});var r=t(7437),i=t(357),s=t(6463),o=t(2265);function u(){let e=(0,s.useRouter)(),[n,t]=(0,o.useState)(!1),{setConfig:u}=(0,i.Z)();return(0,o.useEffect)(()=>{n&&e.replace("/signin")},[n,e]),(0,o.useEffect)(()=>{(async function(){await new Promise(async e=>{try{let n=await fetch("/config.json");if(!n.ok)throw Error("Network response was not ok");let r=await n.json();u(r);let{mac:i,ip:s}=JSON.parse(localStorage.getItem("ROUTER"));u({mac:i,ip:s}),t(!0),e()}catch(e){throw console.error("There was a problem fetching config",e),e}})})()}),(0,r.jsxs)("main",{className:"flex min-h-screen h-screen flex-col items-center justify-center p-24",children:[(0,r.jsx)("div",{className:"loader"}),(0,r.jsx)("script",{dangerouslySetInnerHTML:{__html:'\n      window.addEventListener("load", function(){\n        const form = document.getElementById("server-form")\n        const hiddenInputs = form.querySelectorAll(\'input[type="hidden"]\');\n        const values = {};\n        hiddenInputs.forEach(input => {\n          values[input.name] = input.value;\n        });\n        localStorage.setItem("ROUTER", JSON.stringify(values))\n      })\n      '}}),(0,r.jsxs)("form",{id:"server-form",children:[(0,r.jsx)("input",{type:"hidden",name:"mac",value:"$(mac)"}),(0,r.jsx)("input",{type:"hidden",name:"ip",value:"$(ip)"}),(0,r.jsx)("input",{type:"hidden",name:"username",value:"$(username)"}),(0,r.jsx)("input",{type:"hidden",name:"link-login",value:"$(link-login)"}),(0,r.jsx)("input",{type:"hidden",name:"link-orig",value:"$(link-orig)"}),(0,r.jsx)("input",{type:"hidden",name:"error",value:"$(error)"})]})]})}},357:function(e,n,t){"use strict";t.d(n,{Z:function(){return u},default:function(){return o}});var r=t(7437),i=t(2265);let s=(0,i.createContext)({config:{},setConfig:()=>{}});function o(e){let{children:n}=e,[t,o]=(0,i.useState)({});return(0,i.useEffect)(()=>{(()=>{let e=localStorage.getItem("config");e&&o(JSON.parse(e))})()},[]),(0,r.jsx)(s.Provider,{value:{config:t,setConfig:e=>{let n=Object.assign(t,{...e});localStorage.setItem("config",JSON.stringify(n)),o(n)}},children:n})}let u=()=>(0,i.useContext)(s)}},function(e){e.O(0,[971,23,744],function(){return e(e.s=5888)}),_N_E=e.O()}]);